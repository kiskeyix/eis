#!/usr/bin/env ruby
# == Synopsis
#
# lshw-solaris: fake lshw for Solaris
#
# == Usage
#
# lshw-solaris [OPTION] ... > `hostname | cut -f1 -d.`-hardware.xml
#
# -h, --help:
#    show help
#
# --usage, -U, -?:
#    show usage
#

=begin
$Revision: 0.1 $
$Date: 2009-08-14 13:49 EDT $
Luis Mondesi <lemsx1@gmail.com>

DESCRIPTION:
USAGE: lshw-solaris --help
LICENSE: ___
=end


require 'getoptlong'
require 'rdoc/usage'

opts = GetoptLong.new(
[ '--help', '-h', GetoptLong::NO_ARGUMENT ],
[ '--usage', '-U', '-?', GetoptLong::NO_ARGUMENT ]
)

opts.each do |opt, arg|
   case opt
   when '--help'
      RDoc::usage
   when '--usage'
      RDoc::usage
   end
end

hostname = `hostname`.chomp
description = "" # TODO

puts '<?xml version="1.0" standalone="yes" ?>'
puts '<!-- generated by lshw-solaris Ruby edition -->'
puts "<node id=\"#{hostname}\" claimed=\"true\" class=\"system\" handle=\"DMI:0002\">"
puts "<description>#{description}</description>"
